# useRender

<Subtitle>Hook for enabling a render prop in custom components.</Subtitle>

<Meta name="description" content="Hook for enabling a render prop in custom components." />

The `useRender` hook enables custom components to provide a `render` prop to override the default rendered element.

## API reference

### Input parameters

<PropsReferenceTable
  data={{
    render: {
      type: 'RenderProp<State>',
      description:
        'The React element or a function that returns one to override the default element.',
    },
    props: {
      type: 'Record<string, unknown>',
      description:
        'Props to be spread on the rendered element.\n\nThey are merged with the internal props\n of the component, so that event handlers are merged,\nclass names and styles are joined, and other external props overwrite the internal ones.',
    },
    refs: {
      type: 'React.Ref<RenderedElementType>[]',
      description: 'The refs to apply to the rendered element.',
    },
    state: {
      type: 'State',
      description:
        'The state of the component. It will be used as a parameter for the render callback.',
    },
  }}
/>

### Return value

The hook returns a `renderElement` function that returns the element to be rendered when called.

## Examples

A `render` prop for a custom Text component lets consumers use the `render` prop to replace the default rendered `p` element with a different element tag.

<Demo path="./demos/render" />

The callback version of the `render` prop also enables accessing the `state` of a component.

<Demo path="./demos/render-callback" />

### Merging props

The `mergeProps` function merges two or more sets of React props together. It safely merges three types of props:

1. Event handlers, so that all are invoked
2. `className` strings
3. `style` properties

`mergeProps` merges objects from left to right, so that subsequent objects' properties in the arguments overwrite previous ones. Merging props is useful when creating custom components, as well as inside the callback version of the `render` prop for any Base UI component.

#### Merging refs

When building custom components, you often need to control a ref internally while still letting external consumers pass their own ref. Ref merging lets both parties have access to the underlying DOM elementâ€”the `refs` option in `useRender` enables this, which holds an array of refs to be merged together.

In React 19, `React.forwardRef()` is not needed when building primitive components, as the external ref prop is already contained inside `props`. Your internal ref can be passed to `refs` to be merged with `props.ref`:

```tsx title="React 19"
function Text({ render = <p />, ...props }: TextProps) {
  const internalRef = React.useRef<HTMLElement | null>(null);

  const { renderElement } = useRender({
    render,
    props,
    refs: [internalRef],
  });

  return renderElement();
}
```

In older versions of React, you need to use `React.forwardRef()` and add the forwarded ref to the `refs` array along with your own internal ref:

```tsx title="React 18 and 17"
const Text = React.forwardRef(function Text(
  { render = <p />, ...props }: TextProps,
  forwardedRef: React.ForwardedRef<HTMLElement>,
) {
  const internalRef = React.useRef<HTMLElement | null>(null);

  const { renderElement } = useRender({
    render,
    props,
    refs: [forwardedRef, internalRef],
  });

  return renderElement();
});
```

```jsx {7-7} title="Using mergeProps in the render callback"
import { mergeProps } from '@base-ui-components/react/merge-props';
import styles from './index.module.css';

function Button() {
  return (
    <Component
      render={(props, state) => <button {...mergeProps(props, { className: styles.Button })} />}
    />
  );
}
```

### Migrating from Radix

Radix uses the `asChild` prop, while Base UI uses the `render` prop. Learn more about how composition works in Base UI in the [composition guide](/react/handbook/composition).

In Radix, the `Slot` component lets you implement an `asChild` prop.

```jsx title="Custom asChild prop with Radix"
import { Slot } from 'radix-ui';

function Button({ asChild, ...props }) {
  const Comp = asChild ? Slot.Root : 'button';
  return <Comp {...props} />;
}

// Usage
<Button asChild>
  <a href="/contact">Contact</a>
</Button>;
```

In Base UI `useRender` lets you implement a `render` prop. The example below is the equivalent implementation to the Radix example above.

```jsx title="Custom render prop with Base UI"
import { useRender } from '@base-ui-components/react/use-render';

function Button({ render = <button />, ...props }) {
  const { renderElement } = useRender({ render, props });
  return renderElement();
}

// Usage
<Button render={<a href="/contact">Contact</a>} />;
```

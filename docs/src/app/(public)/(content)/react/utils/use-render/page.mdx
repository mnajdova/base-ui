# useRender

<Subtitle>Utility for adding Base UI-like features to custom components.</Subtitle>
<Meta name="description" content="Utility for adding Base UI-like features to custom components." />

The `useRender` hook allows you to support the same features Base UI provides across all components so that you can also have a consistent experience in your custom components:

- A [render](/react/handbook/composition) prop to override the default rendered element (you may find this concept as "slot" in other libraries).
- [data attributes](https://base-ui.com/react/handbook/styling#data-attributes) that map to the component's state which can be used for styling.
- A [callback](/react/handbook/styling#css-classes) on the `className` prop that enables passing CSS classes depending on the component's state.

## API reference

### Input parameters

<PropsReferenceTable
  data={{
    render: {
      type: 'RenderProp<State>',
      description:
        "Allows you to replace the component's HTML element\nwith a different tag, or compose it with another component.\n\nAccepts a \`ReactElement\` or a function that returns the element to render.",
    },
    props: {
      type: 'Record<string, unknown>',
      description: 'Props to be spread on the rendered element.',
    },
    className: {
      type: 'string | ((state: State) => string)',
      description:
        "CSS class applied to the element, or a function that returns a class based on the component's state.",
    },
    state: {
      type: 'State',
      description:
        'The state of the component. It will be used as a parameter for the render and className callbacks.',
    },
    stateAttributesMap: {
      type: 'StateDataAttributes<State>',
      description: 'A mapping of state to data attributes.',
    },
  }}
/>

### Return value

The hook returns a function that when called returns the element that should be rendered.

## Examples

### Support the `render` prop

This is an example of a Text component supporting the `render` prop.

<Demo path="./demos/render" />

### Migrating from Radix

Radix and Base UI take different approaches to customizing the rendered element within a component. Radix uses the `asChild` prop, while Base UI uses the `render` prop. Learn more about how composition works in Base UI in the [composition guide](/react/handbook/composition).

In Radix, you'd use the `Slot` component to implement your own `asChild` prop.

```jsx title="Custom asChild prop with Radix"
import { Slot } from 'radix-ui';

function Button({ asChild, ...props }) {
  const Comp = asChild ? Slot.Root : 'button';
  return <Comp {...props} />;
}

// Usage
<Button asChild>
  <a href="/contact">Contact</a>
</Button>;
```

In Base UI, you use `useRender` to implement your own `render` prop. The example below is the equivalent implementation to the Radix example above.

```jsx title="Custom render prop with Base UI"
import { useRender } from '@base-ui-components/react/use-render';

function Button({ render, ...props }) {
  const { renderElement } = useRender({ render: render ?? <button />, props });
  return renderElement();
}

// Usage
<Button render={<a href="/contact">Contact</a>} />;
```

### State-based data attributes

When you pass the `state` option, data attributes based on this state are added automatically. In the following example, the counter text color is set to red when it's an odd number by targeting the corresponding data attribute.

<Demo path="./demos/data-attributes" />

To customize how data attributes are generated, use the `stateAttributesMap` option.

```jsx {4-6} title="Customizing data attributes"
useRender({
  render: render ?? <button />,
  state,
  stateAttributesMap: {
    odd: (value) => (value ? { ['data-parity']: 'odd' } : { ['data-parity']: 'even' }),
  },
});
```

To skip a data attribute, return `null` in the corresponding state key.

```jsx {5} title="Skipping data attributes"
useRender({
  render: render ?? <button />,
  state,
  stateAttributesMap: {
    odd: () => null,
  },
});
```

### State-based class names

You can define a `className` prop that accepts a callback function, enabling dynamic CSS class assignment based on the component's state. The example below achieves the same result as the state-based attributes approach but uses the `className` callback for styling instead of data attributes.

<Demo path="./demos/class-name" />
